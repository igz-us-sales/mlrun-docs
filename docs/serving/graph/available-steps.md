# Built-in steps

## Model Serving

| Class name                                       | Description                                                                                                                                                                                                                                                    | Example          |       
|--------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|
| [mlrun.serving.VotingEnsemble]()                 | An ensemble machine learning model that combines the prediction of several models.                                                                                                                                                                             |                  |       
| [mlrun.serving.EnrichmentVotingEnsemble]()       | Auto enrich the request with data from the feature store. The router input accept list of inference request (each request can be a dict or list of incoming features/keys), it enriches the request with data from the specified feature vector.               |                  |
| [mlrun.frameworks.sklearn.SklearnModelServer]()  | Model serving class, inheriting the V2ModelServer class for being initialized automatically by the model server and be able to run locally as part of a nuclio serverless  function, or as part of a real-time pipeline.                                       |                  |
| [mlrun.frameworks.pytorch.PyTorchModelServer]()  | PyTorch Model serving class, inheriting the V2ModelServer class for being initialized automatically by the model server and be able to run locally as part of a nuclio serverless function, or as part of a real-time pipeline.                                |                  |
| [mlrun.frameworks.onnx.ONNXModelServer]()        | ONNX Model serving class, inheriting the V2ModelServer class for being initialized automatically by the model server and be able to run locally as part of a nuclio serverless function, or as part of a real-time pipeline.                                   |                  |
| [mlrun.frameworks.xgboost.XGBModelServer]()      | Model serving class, inheriting the V2ModelServer class for being initialized automatically by the model server and be able to run locally as part of a nuclio serverless function, or as part of a real-time pipeline.                                        |                  |
| [mlrun.serving.ModelRouter]()                    | Basic model router, allows calling different models per each model path.                                                                                                                                                                                       |                  |
| [mlrun.frameworks.tf_keras.TFKerasModelServer]() | Tensorflow.keras Model serving   class, inheriting the V2ModelServer class for being initialized automatically   by the model server and be able to run locally as part of a nuclio serverless   function, or as part of a real-time pipeline.                 |                  |

## Operator

| Class name                                       | Description                                                                                                                                                                                                                                                    |Example           |    
|--------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|        
| [mlrun.feature_store.FeaturesetValidator]()      | Validate feature values according to the feature set validation policy.                                                                                                                                                                                        |                  |
| [mlrun.feature_store.OneHotEncoder]()            | Create new binary fields, one per category (one hot encoded).                                                                                                                                                                                                  |                  |
| [storey.transformations.ToDataFram]()            | Create pandas data frame from events. Can appear in the middle of the flow, as opposed to ReduceToDataFrame.                                                                                                                                                   |                  |
| [storey.transformations.SampleWindow]()          | Emits a single event in a window of `window_size` events, in accordance with `emit_period` and `emit_before_termination`.                                                                                                                                      |                  |
| [storey.Filter]()                                | Filters events based on a user-provided function.                                                                                                                                                                                                              |                  |
| [storey.Batch]()                                 | Batches events. This step emits a batch every max_events events, or when <timeout> seconds have passed since the first event in the batch was received.                                                                                                        |                  |
| [storey.transformations.Choice]()                | Redirects each input element into at most one of multiple downstreams.                                                                                                                                                                                         |                  |
|  JoinWithV3IOTable                               |                                                                                                                                                                                                                                                                |                  |
| [storey.transformations.SendToHttp]()            | Joins each event with data from any HTTP source. Used for event augmentation.                                                                                                                                                                                  |                  |
| QueryByKey                                       | Similar to to AggregateByKey, but this step is for serving only and does not aggregate the event.                                                                                                                                                              |                  |
| [storey.Extend]()                                |                                                                                                                                                                                                                                                                |                  |
| [storey.transformations.JoinWithTable]()         | Joins each event with data from the given table.                                                                                                                                                                                                               |                  |
| [storey.Reduce]()                                | Reduces incoming events into a single value which is returned upon the successful termination of the flow.                                                                                                                                                     |                  |
| [mlrun.datastore.StreamTarget]()                 |                                                                                                                                                                                                                                                                |                  |
| [mlrun.datastore.CSVTarget]()                    |                                                                                                                                                                                                                                                                |                  |
| [mlrun.datastore.NoSqlTarget]()                  |                                                                                                                                                                                                                                                                |                  |
| ReduceToDataFrame                                |                                                                                                                                                                                                                                                                |                  |
| TSDBTarget                                       |                                                                                                                                                                                                                                                                |                  |
| [mlrun.datastore.ParquetTarget]()                | The Parquet target storage driver, used to materialize feature set/vector data into parquet files.                                                                                                                                                             |                  |
| [storey.steps.Flatten]()                         |                                                                                                                                                                                                                                                                |                  |
| [storey.steps.ForEach]() storey.transformations.ForEach | Applies the given function on each event in the stream, and passes the original event downstream.                                                                                                                                                       |                  |
| [storey.steps.Partition]()  storey.transformations.Partition | Partitions events by calling a predicate function on each event. Each processed event results in a Partitioned namedtuple of (left=Optional[Event], right=Optional[Event]).                                                                                                                                                                                                                                                               |                  |

## Data Transformation

| Class name                                       | Description                                                                                                                                                                                                                                                    |Example           |    
|--------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|    
| [mlrun.feature_store.MapValues]()                | Map column values to new values.                                                                                                                                                                                                                               |                  |
| [mlrun.feature_store.Imputer]()                  | Replace None values with default values.                                                                                                                                                                                                                       |                  |
| [storey.transformations.Map]()                   | Maps, or transforms, incoming events using a user-provided function.                                                                                                                                                                                           |                  |
| [storey.FlatMap]()                               | Maps, or transforms, each incoming event into any number of events.                                                                                                                                                                                            |                  |
| [storey.transformations.MapClass]()              | Similar to Map, but instead of a function argument, this class should be extended and its do() method overridden.                                                                                                                                              |                  |
| [storey.transformations.MapWithState]()          | Maps, or transforms, incoming events using a stateful user-provided function, and an initial state, which might be a database table.                                                                                                                           |                  |
| [storey.AggregateByKey]()                        | Aggregates the data into the table object provided for later persistence, and outputs an event enriched with the requested aggregation features.                                                                                                               |                  |
| DateExtractor                                    |                                                                                                                                                                                                                                                                |                  |



##S Input

| Class name                                       | Description                                                                                                                                                                                                                                                    |Example           |    
|--------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|
| SyncEmitSource                                   |                                                                                                                                                                                                                                                                |                  |
| AsyncEmitSource                                  |                                                                                                                                                                                                                                                                |                  |
| CSVSource                                        | Reads a CSV file as input source for a flow.                                                                                                                                                                                                                   |                  |
| ParquetSource                                    | Reads the Parquet file/dir as input source for a flow.                                                                                                                                                                                                         |                  |
| DataframeSource                                  |                                                                                                                                                                                                                                                                |                  |
| [mlrun.datastore.StreamSource]()                 | Sets the stream source for the flow. If stream doesn’t exist it creates it.                                                                                                                                                                                    |                  |
| [mlrun.datastore.KafkaSource]()                  | Sets the kafka source for the flow.                                                                                                                                                                                                                            |                  |
| [mlrun.datastore.HttpSource]()                   |                                                                                                                                                                                                                                                                |                  |


mlrun.datastore.DataItem            Data input/output class abstracting access to various local/remote data sources
mlrun.datastore.BigQuerySource    Reads Google BigQuery query results as input source for a flow.